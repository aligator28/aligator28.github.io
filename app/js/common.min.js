function showMap(e,o,t,n){n.preventDefault(),o.locationpicker({location:{latitude:49.588267,longitude:34.551417},radius:10,inputBinding:{locationNameInput:t},enableAutocomplete:!0,markerIcon:"../img/map-icon.png"}),e.show("slow"),o.locationpicker("autosize")}function loadPages(e){var o="css/"+e+".min.css",t="pages/"+e+".html";$("head").append('<link rel="stylesheet" type="text/css" href="'+o+'">'),$("#content").load(t,function(){if("home"==e&&$(".flexslider").flexslider({animation:"slide"}),"booking"==e){new Pikaday({field:$("#datetime")[0]});validateBooking()}}),e!=window.location&&window.history.pushState(null,null,e)}function loadFooter(){$("footer").delay("3000").slideDown("slow")}function validateAddress(e,o,t){var n=!0;""==o.val()&&($("#errors").text("Choose an address, please"),n=!1),e.find('input[name="type"]:checked').length<1&&($("#errors").text("Choose Type, please"),n=!1),n===!1&&$("#errors").show("slow"),n===!0&&($("#errors").hide("slow"),e.submit())}function validateBooking(){var e=document.createElement("script");e.src="http://cdn.jsdelivr.net/jquery.validation/1.15.1/jquery.validate.min.js",e.onload=function(){$("#form-book-a-cab").validate({rules:{name:"required",phone:"required",type:"required",adults:"required",from_address:"required",to_address:"required"},messages:{name:"Please enter your Name",phone:"Please enter your Phone",type:"Click Type (Personal, Budget, Airport or Truck)",adults:"Enter number of Adulst",from_address:"Enter Address From",to_address:"Enter Address To"},errorPlacement:function(e,o){o.is(":radio")?e.appendTo($("#booking-errors")):e.insertAfter(o)},submitHandler:function(e){e.submit()}})},document.head.appendChild(e)}$(function(){loadPages("home"),loadFooter(),$(document).on("click","#menu-container a",function(e){$(this).addClass("active");var o=$(this).attr("id");$("#menu-container a").each(function(e,t){o!=t.id&&$(this).removeClass("active")}),$("footer").css("display","none"),e.stopPropagation(),e.preventDefault();var t=$(this).attr("href");loadPages(t),loadFooter()}),$(window).bind("popstate",function(){var e=location.pathname,o=e.lastIndexOf("/"),t=e.substring(o+1,e.length);loadPages(t)}),$(document).on("load",".flexslider",function(){$(".flexslider").flexslider({animation:"slide"})}),$(document).on("click","#done-btn",function(e){validateAddress($("#book-form"),$("#address"),e)}),$("#selected-city").on("click",function(){$("#cities-list").slideDown("slow")}),$("#cities-list li").on("click",function(){$("#selected-city span").text($(this).text()),$("#phone-number").text($(this).attr("data-num")),$("#cities-list").slideUp("slow")}),$("#menu").on("click",function(e){e.preventDefault(),$(".menu-container").slideToggle("slow")}),$("#search-btn").on("click",function(){$("#search-form").slideDown()}),$("#search-submit").on("click",function(){$("#search-form").slideUp()}),Modernizr.svg||$("img[src*='svg']").attr("src",function(){return $(this).attr("src").replace(".svg",".png")}),$(document).on("click","#map-btn",function(e){showMap($("#map-modal"),$("#map-container"),$("#location"),e)}),$(document).on("click","#loc-sbmt",function(e){e.preventDefault(),$("#map-modal").hide("slow"),$("#address").val($("#location").val())}),$(document).on("click","#loc-close",function(e){e.preventDefault(),$("#map-modal").hide("slow")}),$(document).on("click","#map-btn-from",function(e){showMap($("#from-map-modal"),$("#from-map-container"),$("#from-location"),e)}),$(document).on("click","#from-submit",function(e){e.preventDefault(),$("#from-map-modal").hide("slow"),$("#address-from").val($("#from-location").val())}),$(document).on("click","#map-btn-to",function(e){showMap($("#to-map-modal"),$("#to-map-container"),$("#to-location"),e)}),$(document).on("click","#to-submit",function(e){e.preventDefault(),$("#to-map-modal").hide("slow"),$("#address-to").val($("#to-location").val())})});